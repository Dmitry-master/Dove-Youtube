function Youtube(a){this.channelId=a.channelId,this.playlistsConteiner=a.playlistsConteiner,this.videosConteiner=a.videosConteiner,this.videoConteiner=a.videoConteiner,this.callback=a.callback,this.activePlaylist=null,this.activeVideo=null,this.vent=$({}),this.init()}Youtube.prototype.init=function(){var a=this,b=a.getPlaylists();a.vent.on("activePlaylist:change",$.proxy(a.renderVideos,a)),a.vent.on("activeVideo:change",$.proxy(a.renderVideo,a)),a.playlistsConteiner.on("click","li",function(b){var c=$(b.currentTarget).data("playlist-id");a.setActivePlaylist(c)}),a.videosConteiner.on("click","li",function(b){for(var c,d=$(b.currentTarget).data("video-id"),e=a.activePlaylist.items.length-1;e>=0;e--)if(a.activePlaylist.items[e].id===d){c=a.activePlaylist.items[e];break}a.setActiveVideo(c)}),b.then(function(b){if(b.items.length){a.renderPlaylists(b.items);var c=b.items[0].id;a.setActivePlaylist(c)}})},Youtube.prototype.getPlaylists=function(){var a=new $.Deferred;return $.ajax({url:"https://www.googleapis.com/youtube/v3/playlists",type:"GET",data:{part:"snippet",channelId:this.channelId,key:"AIzaSyD7ls_UCYsiKHwjPFFjvrATd0LLXxUubLI"},success:function(b){a.resolve(b)}}),a.promise()},Youtube.prototype.getVideos=function(a){var b=new $.Deferred;return $.ajax({url:"https://www.googleapis.com/youtube/v3/playlistItems",type:"GET",data:{part:"snippet",playlistId:a,key:"AIzaSyD7ls_UCYsiKHwjPFFjvrATd0LLXxUubLI"},success:function(a){b.resolve(a)}}),b.promise()},Youtube.prototype.setActivePlaylist=function(a){var b=this,c=b.getVideos(a);c.then(function(a){b.activePlaylist=a,b.vent.trigger("activePlaylist:change");var c=a.items[0];b.setActiveVideo(c)})},Youtube.prototype.setActiveVideo=function(a){this.activeVideo=a,this.vent.trigger("activeVideo:change")},Youtube.prototype.renderPlaylists=function(a){for(var b=this,c=$('<ul class="playlist_tabs"></ul>'),d=0;d<a.length;d++)c.append(templates.playlistItem(a[d]));this.playlistsConteiner.empty().append(c),setTimeout(function(){b.playlistsConteiner.slider({visibleItems:4})},0)},Youtube.prototype.renderVideos=function(){for(var a=this,b=$('<ul class="playlist_videos"></ul>'),c=0;c<this.activePlaylist.items.length;c++)b.append(templates.videoItem(this.activePlaylist.items[c]));this.videosConteiner.empty().append(b),setTimeout(function(){a.videosConteiner.slider({visibleItems:3})},0)},Youtube.prototype.renderVideo=function(){this.videoConteiner.empty().append(templates.video({url:this.activeVideo.snippet.resourceId.videoId}))},$(function(){function a(){g.height(g.width()*d)}var b,c="UCxOWCBe-OpWGVbpea9Yqyzw",d=.59,e=$(".playlist_tabs_wrap"),f=$(".playlist_videos_wrap"),g=$("#video_wrap");$(window).resize(a),a(),b=new Youtube({channelId:c,playlistsConteiner:e,videosConteiner:f,videoConteiner:g})});var templates={playlistItem:function(a){return'<li class="playlist_tabs_item" data-playlist-id="'+a.id+'"><figure><img src="'+a.snippet.thumbnails.medium.url+'" alt="'+a.snippet.title+'" class="playlist_image"><figcaption><span class="playlist_title">'+a.snippet.title+'</span><!--<br><span class="playlist_descr">Selfie</span>--></figcaption></figure></li>'},videoItem:function(a){return'<li class="playlist_videos_item" data-video-id="'+a.id+'"><figure><img src="'+a.snippet.thumbnails.medium.url+'" alt="'+a.snippet.title+'" class="video_sample"><figcaption class="video_title">'+a.snippet.title+"</figcaption></figure></li>"},video:function(a){return'<object width="100%" height="100%"><param name="movie" value="https://www.youtube.com/v/'+a.url+'&fs=1"></param><param name="allowFullScreen" value="true"></param><embed src="https://www.youtube.com/v/'+a.url+'&fs=1"type="application/x-shockwave-flash"width="100%" height="100%"allowfullscreen="true"></embed></object>'}};